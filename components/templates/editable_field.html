{#
  Editable field component template.

  Expected context:
  - field.is_editing: bool - whether this session is editing
  - field.editing_value: str - current draft value
  - field.is_locked: bool - whether another session has the lock
  - field.value_html: Markup - rendered HTML content
  - field.id: str - item ID
  - field.field: str - field name
  - field_type: "input" or "textarea"
  - content_class: CSS class for the content wrapper (e.g., "title-content", "content-text")
#}

{% if field.is_editing %}
    <div class="field-edit">
        {% if field_type == "textarea" %}
            <textarea
                name="value"
                phx-keyup="update_draft"
                phx-value-card_id="{{field.id}}"
                phx-value-field="{{field.field}}"
                rows="5"
                autofocus
            >{{field.editing_value}}</textarea>
        {% else %}
            <input
                type="text"
                name="value"
                value="{{field.editing_value}}"
                phx-keyup="update_draft"
                phx-value-card_id="{{field.id}}"
                phx-value-field="{{field.field}}"
                autofocus
            />
        {% endif %}
        <div class="edit-buttons">
            <button phx-click="save_edit" phx-value-card_id="{{field.id}}" phx-value-field="{{field.field}}">Save</button>
            <button phx-click="cancel_edit" phx-value-card_id="{{field.id}}" phx-value-field="{{field.field}}">Cancel</button>
        </div>
    </div>
{% elif field.is_locked %}
    <div class="field-display locked">
        <div class="{{content_class}}">{{field.value_html}}</div>
    </div>
{% else %}
    <div class="field-display" phx-click="start_edit" phx-value-card_id="{{field.id}}" phx-value-field="{{field.field}}">
        <div class="{{content_class}}">{{field.value_html}}</div>
    </div>
{% endif %}
